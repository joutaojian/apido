webpackJsonp([9],{125:function(e,t,r){r(368),r(367);var a=r(41)(r(540),r(336),null,null);e.exports=a.exports},131:function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},132:function(e,t,r){var a=r(131),o=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},135:function(e,t,r){e.exports={default:r(132),__esModule:!0}},288:function(e,t,r){t=e.exports=r(8)(),t.push([e.i,".updateButton{margin-bottom:0;text-align:right;margin-top:10px}.btns{float:right;margin:0 20px 10px 0;line-height:36px}.el-dialog__body{padding-top:10px}",""])},289:function(e,t,r){t=e.exports=r(8)(),t.push([e.i,".vue-datasource *{box-sizing:border-box;font-size:14px}.vue-datasource .panel{margin-bottom:22px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.05)}.vue-datasource .panel-default{border-color:#d3e0e9}.vue-datasource .panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px}.vue-datasource .panel-default>.panel-heading{height:56px;color:#333;background-color:#fff;border-color:#d3e0e9}.vue-datasource .pull-left{float:left!important}.vue-datasource .pull-right{float:right!important}.vue-datasource .form-group{margin-bottom:15px}.vue-datasource label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.vue-datasource .form-control{display:block;width:100%;height:36px;color:#555;background-color:#fff;border:1px solid #ccd0d2;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.vue-datasource .btn,.vue-datasource .form-control{padding:6px 12px;font-size:14px;line-height:1.6;background-image:none}.vue-datasource .btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;border:1px solid transparent;white-space:nowrap;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vue-datasource .btn-primary{color:#fff;background-color:#3097d1;border-color:#2a88bd}.vue-datasource .table{width:100%;max-width:100%;margin-bottom:22px;border-collapse:collapse;border-spacing:0}.vue-datasource .table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.vue-datasource .table td,.vue-datasource .table th{padding:8px;line-height:1.6;vertical-align:top;border-top:1px solid #ddd}.vue-datasource .table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.vue-datasource .success td,.vue-datasource .success th{background-color:#dff0d8}.vue-datasource .pagination{display:inline-block;padding-left:0;margin:22px 0;border-radius:4px}.vue-datasource .pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.6;text-decoration:none;color:#3097d1;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:3;color:#fff;background-color:#3097d1;border-color:#3097d1;cursor:default}.vue-datasource .pagination>li:first-child>a,.vue-datasource .pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.vue-datasource .text-center{text-align:center}@media (min-width:768px){.form-inline .form-group{display:inline-block}.form-inline .control-label,.form-inline .form-group{margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}}",""])},336:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-menu"}),e._v("表单")]),e._v(" "),r("el-breadcrumb-item",[e._v("表单编辑")])],1)],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("p",{staticStyle:{"line-height":"36px"}},[e._v("当前企业："+e._s(e.query.enterpriseName))])]),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{icon:"edit"},on:{click:function(t){e.enterpriseDialog=!0}}},[e._v("切换企业")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.tableData,border:"",height:"600"}},[r("el-table-column",{attrs:{prop:"taskName",label:"表单名称",sortable:""}},[e._v(">")]),e._v(" "),r("el-table-column",{attrs:{prop:"workflowId",label:"表单UUID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"roleName",label:"角色"}}),e._v(" "),r("el-table-column",{attrs:{prop:"status",label:"目前状态",filters:[{text:"显示",value:1},{text:"隐藏",value:0}],"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:1===t.row.status?"success":"primary","close-transition":""}},[e._v("\n                    "+e._s(1===t.row.status?"显示":"隐藏")+"\n                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:1===t.row.status?"primary":"success"},on:{click:function(r){e.handleStatus(t.$index,t.row)}}},[e._v(e._s(1===t.row.status?"隐藏":"显示"))])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"请选择企业"},model:{value:e.enterpriseDialog,callback:function(t){e.enterpriseDialog=t},expression:"enterpriseDialog"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:16}},[e._v(" ")]),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入企业名称",icon:"search","on-icon-click":e.searchEnterprise},model:{value:e.query.enterpriseName,callback:function(t){e.$set(e.query,"enterpriseName",t)},expression:"query.enterpriseName"}})],1)],1),e._v(" "),r("el-table",{staticStyle:{margin:"15px 0 15px 0"},attrs:{data:e.enterprises,"highlight-current-row":""},on:{"current-change":e.enterpriseSelect}},[r("el-table-column",{attrs:{property:"enterpriseNumber",label:"企业E号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{property:"enterpriseName",label:"企业名称"}})],1),e._v(" "),r("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next",total:e.page.total,"page-size":e.page.size,"current-page":e.page.current},on:{"current-change":e.searchEnterprise}}),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.enterpriseDialog=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.chooseEnterprise}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},367:function(e,t,r){var a=r(288);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(40)("f5060820",a,!0)},368:function(e,t,r){var a=r(289);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(40)("252ac2ea",a,!0)},540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(135),o=r.n(a);t.default={data:function(){var e=this;return{tableData:[],editDialog:!1,workFlowForm:[{fieldName:"edit1",displayStatus:1,fieldKey:"edd1"},{fieldName:"edit2",displayStatus:0,fieldKey:"edd2"}],editPopoverStatus:!1,editIndex:-1,actions:[{text:"Click",class:"btn-primary",event:function(t,r){e.$message("选中的行数： "+r.row.id)}}],query:{enterpriseName:""},enterpriseDialog:!0,enterprises:[{enterpriseNumber:10120,enterpriseName:"newly"},{enterpriseNumber:10120,enterpriseName:"newly"}],page:{total:0,current:0,size:1},selectedEnterpriseNumber:-1,fieldLoading:!0,addFieldDialog:!1,field:{fieldName:"",fieldTypeId:"",necessary:!1},fieldTypes:[],formLabelWidth:"120px",rules:{fieldName:[{required:!0,message:"请输入字段名称",trigger:"blur"},{min:1,max:30,message:"长度在 1到 30字符",trigger:"blur"}],fieldTypeId:[{type:"number",required:!0,message:"请选择字段类型",trigger:"change"}]}}},methods:{deleteUpdateInfoById:function(e){this.$http.delete("/v1/GrayReleased/updateInfoes/"+e).then(function(e){},function(){this.$message.error("删除失败！")})},handleStatus:function(e,t){var r=this;this.$confirm("此操作将"+(1===t.status?"【隐藏】":"【显示】")+"表单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){1===t.status?r.$http.delete("/v1/workflowTask/workflowTasks/"+t.workflowId,{body:t}).then(function(e){console.log(e.body.data),this.listWorkFlows(),this.$message({type:"success",message:"隐藏成功！"})},function(){console.log("请求失败处理")}):0===t.status&&r.$http.post("/v1/workflowTask/workflowTask",t).then(function(e){console.log(e.body.data),this.listWorkFlows(),this.$message({type:"success",message:"显示成功！"})},function(){console.log("请求失败处理")})}).catch(function(){r.$message({type:"info",message:"已取消！"})})},filterTag:function(e,t){return t.status===e},enterpriseSelect:function(e){var t=this;t.query.enterpriseName=e.enterpriseName,t.selectedEnterpriseNumber=e.enterpriseNumber},searchEnterprise:function(e){var t=this,r=JSON.parse(o()(t.query));r.pageNum=e,t.$http.get("/v1/enterprise/listEnterprises",{params:r}).then(function(e){t.enterprises=e.body.response_param},function(e){t.errorFunc(e.response.data.error_msg)})},getTotal:function(){var e=this;e.page.current=0;var t=JSON.parse(o()(e.query));console.log(t),e.$http.get("/v1/enterprise/getTotal",{params:t}).then(function(t){e.page.total=t.body.response_param.total,e.page.size=t.body.response_param.pageSize,e.page.current=1},function(t){e.errorFunc(t.body.error_msg)})},chooseEnterprise:function(){var e=this,t={enterpriseNumber:e.selectedEnterpriseNumber};e.$http.put("/v1/enterprise/chooseEnterprise",t).then(function(t){e.successFunc("企业选择成功！"),e.enterpriseDialog=!1,e.listWorkFlows()},function(t){e.errorFunc(t.body.error_msg)})},listWorkFlows:function(){var e=this,t={roleVisit:-7};e.$http.get("/v1/workflowTask/workflowTasks",{params:t}).then(function(t){e.tableData=t.body.response_param},function(t){e.errorFunc(t.body.error_msg)})},warnFunc:function(e){this.$message({message:e,type:"warning"})},errorFunc:function(e){var t=this;console.log(e),t.$message.error(e)},successFunc:function(e){this.$message({message:e,type:"success"})}},computed:{getData:function(){var e=this;return e.information.data.filter(function(t){if(t.name.indexOf(e.query)>-1)return t})}},mounted:function(){this.getTotal()}}}});